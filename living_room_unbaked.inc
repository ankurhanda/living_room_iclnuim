/*
   POV-Ray lightmapping helper - Jaime Vives Piqueres, 2011
   --
   Non-bakeable objects for the test scene
*/

#include "textures.inc"
#include "glass.inc"

// ===========================================================
// sky dome
// ===========================================================
sphere{0,10e5
  pigment{rgb <.1,.3,.5>+.5}
  finish{emission 1 diffuse 1}
  hollow
  no_shadow
}

// ===========================================================
// windows glass 
// ===========================================================
#if (use_baking=2) // used only when loading the baked textures
#declare window_glass=
texture{
 T_Glass3
 pigment{rgbt .99}
 finish{ambient 0 reflection{.1,.9 fresnel on}}
}
// Exported from Wings 3D 1.3.0.1 
#declare windows_glass = mesh2{
	 vertex_vectors { 8, <0.042833, 0.180411, 3.091579>, <0.042833, 2.390189, 3.091579>, <0.042833, 2.390189, 3.089088>, <0.042833, 0.180411, 3.089088>, <2.218362, 0.180411, 3.089088>, <2.218362, 0.180411, 3.091579>, <2.218362, 2.390189, 3.091579>, <2.218362, 2.390189, 3.089088>}
	 //#local average_center = <1.130598, 1.285300, 3.090333>;
	 normal_vectors { 36, <0.000000, 1.000000, 0.000000>, <0.000000, 1.000000, 0.000000>, <0.000000, 0.000000, -1.000000>, <1.000000, 0.000000, 0.000000>, <0.000000, 0.000000, -1.000000>, <0.000000, 0.000000, -1.000000>, <0.000000, -1.000000, 0.000000>, <1.000000, 0.000000, 0.000000>, <1.000000, 0.000000, 0.000000>, <0.000000, -1.000000, 0.000000>, 
			<0.000000, -1.000000, 0.000000>, <0.000000, 0.000000, 1.000000>, <1.000000, 0.000000, 0.000000>, <0.000000, 1.000000, 0.000000>, <0.000000, 0.000000, 1.000000>, <0.000000, 0.000000, 1.000000>, <1.000000, 0.000000, 0.000000>, <1.000000, 0.000000, 0.000000>, <-1.000000, 0.000000, 0.000000>, <0.000000, 1.000000, 0.000000>, <0.000000, 1.000000, 0.000000>, 
			<0.000000, 0.000000, 1.000000>, <-1.000000, 0.000000, 0.000000>, <-1.000000, 0.000000, 0.000000>, <0.000000, 1.000000, 0.000000>, <0.000000, 0.000000, -1.000000>, <0.000000, 0.000000, -1.000000>, <-1.000000, 0.000000, 0.000000>, <0.000000, 0.000000, -1.000000>, <0.000000, -1.000000, 0.000000>, <0.000000, -1.000000, 0.000000>, <-1.000000, 0.000000, 0.000000>, 
			<-1.000000, 0.000000, 0.000000>, <0.000000, -1.000000, 0.000000>, <0.000000, 0.000000, 1.000000>, <0.000000, 0.000000, 1.000000>}
	 uv_vectors { 8, <0.016328, 0.965646>, <0.016328, 0.966592>, <0.282160, 0.943360>, <0.547359, 0.946986>, <0.933176, 0.965646>, <0.933176, 0.966592>, <0.939965, 0.564724>, <0.940687, 0.397085>}
	 texture_list { 1, texture{window_glass}}
	 face_indices { 12, <5, 6, 7>, 0, <7, 4, 5>, 0, <0, 5, 4>, 0, <4, 3, 0>, 0, <1, 6, 5>, 0, <1, 5, 0>, 0, <2, 7, 6>, 0, <2, 6, 1>, 0, <3, 4, 7>, 0, <7, 2, 3>, 0, 
			<0, 3, 1>, 0, <3, 2, 1>, 0}
	 normal_indices { 12, <22, 27, 31>, <32, 18, 23>, <0, 24, 19>, <20, 13, 1>, <4, 28, 25>, <5, 26, 2>, <9, 33, 29>, <10, 30, 6>, <14, 21, 34>, <35, 11, 15>, 
			<3, 16, 7>, <17, 12, 8>}
	 uv_indices { 12, <0, 4, 5>, <5, 1, 0>, <2, 0, 1>, <1, 2, 2>, <7, 4, 0>, <7, 0, 7>, <3, 5, 4>, <3, 4, 3>, <6, 1, 5>, <5, 6, 6>, 
			<2, 6, 7>, <6, 3, 7>}
}
object{ windows_glass
  interior {
	 I_Glass3
	}
}
#end

// ===========================================================
// fake exterior
// ===========================================================
#if (use_baking=2) // used only when loading the baked textures
sphere{
 0,10e4
 pigment{image_map{jpeg "sm_lotw-041119" map_type 1 interpolate 2}}
 finish{emission 2}
 hollow
 rotate 40*y
}
#end


// ===========================================================
// fake lights flares
// ===========================================================
#declare spot_flare=
sphere{0,1
  pigment{rgbt 1}
  interior{
    media{
      emission (Gold+Pink)*10
      density{spherical
        density_map{[0 rgb 0][1 rgb 1]}
      }
    }
  }
  scale .1
  hollow
}
object{spot_flare translate <0.223,2.66,-1.649>}
object{spot_flare translate <-2.254,2.66,0.802>}
object{spot_flare translate <-0.010,2.66,0.802>}
object{spot_flare translate <2.161,2.66,0.801>}
#declare footlamp_flare=
sphere{0,1
  pigment{rgbt 1}
  interior{
    media{
      emission (Gold)*40
      density{spherical
        density_map{[0 rgb 0][1 rgb 1]}
      }
    }
  }
  scale .075
  hollow
}
object{footlamp_flare translate <-2.0349,1.5626+.05,2.6081>}
object{footlamp_flare translate <2.0892,1.5626+.05,-1.5125>}
